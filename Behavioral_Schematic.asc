Version 4
SHEET 1 1376 680
WIRE 272 -640 272 -656
WIRE 272 -496 272 -560
WIRE 288 -496 272 -496
WIRE -352 -480 -592 -480
WIRE -288 -480 -352 -480
WIRE 272 -480 272 -496
WIRE -288 -464 -320 -464
WIRE -48 -464 -224 -464
WIRE 64 -464 -48 -464
WIRE 224 -464 128 -464
WIRE 288 -432 288 -496
WIRE 288 -432 272 -432
WIRE -320 -384 -320 -464
WIRE -224 -384 -320 -384
WIRE -16 -384 -160 -384
WIRE -352 -320 -352 -480
WIRE 272 -304 272 -384
WIRE 464 -304 272 -304
WIRE 656 -304 544 -304
WIRE 736 -304 656 -304
WIRE 816 -304 736 -304
WIRE 896 -304 816 -304
WIRE 1008 -304 896 -304
WIRE 1312 -304 1008 -304
WIRE -224 -256 -320 -256
WIRE -48 -256 -48 -464
WIRE -48 -256 -160 -256
WIRE 656 -256 656 -304
WIRE 736 -256 736 -304
WIRE 816 -256 816 -304
WIRE 896 -256 896 -304
WIRE 1008 -256 1008 -304
WIRE 272 -224 272 -304
WIRE 288 -176 272 -176
WIRE -16 -144 -16 -384
WIRE -16 -144 -224 -144
WIRE 64 -144 -16 -144
WIRE 224 -144 128 -144
WIRE -320 -128 -320 -256
WIRE -288 -128 -320 -128
WIRE -352 -112 -352 -256
WIRE -288 -112 -352 -112
WIRE 272 -112 272 -128
WIRE 288 -112 288 -176
WIRE 288 -112 272 -112
WIRE 656 -112 656 -192
WIRE 736 -112 736 -192
WIRE 816 -112 816 -192
WIRE 896 -112 896 -192
WIRE 1008 -112 1008 -176
WIRE 272 -64 272 -112
WIRE 1312 176 1312 -304
WIRE 1312 320 1312 256
WIRE 1312 320 656 320
WIRE 592 336 -496 336
WIRE -592 352 -592 -480
WIRE -560 352 -592 352
WIRE 752 352 656 352
WIRE -384 368 -496 368
WIRE -384 400 -384 368
WIRE 1312 432 1312 320
WIRE 752 480 752 352
WIRE -384 592 -384 480
WIRE 752 592 752 560
WIRE 1312 592 1312 512
FLAG 272 -64 0
FLAG 272 -656 0
FLAG 896 -112 0
FLAG 1008 -112 0
FLAG 752 592 0
FLAG -384 592 0
FLAG 1312 592 0
FLAG 816 -112 0
FLAG 736 -112 0
FLAG 656 -112 0
SYMBOL voltage 272 -544 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1.8 0 1n)
SYMBOL ind 448 -288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 0.47µ
SYMATTR SpiceLine Rser=32m
SYMBOL cap 880 -256 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=10m Lser=1n
SYMBOL cmosp 224 -384 M180
SYMATTR InstName M1
SYMATTR Value2 l=180n w=100u m=500
SYMBOL cmosn 224 -224 R0
SYMATTR InstName M2
SYMATTR Value2 l=180n w=100u m=200
SYMBOL load2 1008 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(0 100m 200u)
SYMBOL Digital\\and -256 -544 R0
WINDOW 3 -61 61 Left 2
SYMATTR Value Vhigh=1.8,Vlow=0
SYMATTR InstName A1
SYMBOL Digital\\and -256 -192 R0
WINDOW 3 -48 62 Left 2
SYMATTR Value Vhigh=1.8,Vlow=0
SYMATTR InstName A2
SYMBOL Digital\\inv -288 -320 R90
WINDOW 3 -78 60 Left 2
SYMATTR Value Vhigh=1.8,Vlow=0
SYMATTR InstName A3
SYMBOL Digital\\inv -160 -320 R180
WINDOW 3 -106 66 Left 2
SYMATTR Value Vhigh=1.8,Vlow=0,Td=10n
SYMATTR InstName A4
SYMBOL Digital\\buf1 -160 -192 R180
WINDOW 3 -107 61 Left 2
SYMATTR Value Vhigh=1.8,Vlow=0,Td=10n
SYMATTR InstName A5
SYMBOL Digital\\buf1 64 -528 R0
WINDOW 3 -217 63 Left 2
SYMATTR Value Vhigh=1.8, Vlow=0, Trise = {trf}, Tfall = {trf}
SYMATTR InstName A6
SYMBOL Digital\\buf1 64 -208 R0
WINDOW 3 -218 61 Left 2
SYMATTR Value Vhigh=1.8, Vlow=0, Trise = {trf}, Tfall = {trf}
SYMATTR InstName A7
SYMBOL voltage 752 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 0.8 0 1u)
SYMBOL voltage -384 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 1.8 0 62.5n 62.5n 0u 125n)
SYMBOL Digital\\diffschmtbuf -496 416 R180
WINDOW 3 -99 63 Left 2
SYMATTR Value Vhigh=1.8, Vlow=0, Vt=0
SYMATTR InstName A8
SYMBOL res 1296 160 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 1296 416 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL cap 800 -256 R0
SYMATTR InstName C3
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=10m Lser=1n
SYMBOL cap 720 -256 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=10m Lser=1n
SYMBOL cap 640 -256 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=10m Lser=1n
SYMBOL Opamps\\opamp 624 272 M0
SYMATTR InstName U1
TEXT 752 -472 Left 2 !.tran 10m
TEXT 752 -496 Left 2 !.include tsmc018.lib
TEXT 752 -520 Left 2 !.param td 1n
TEXT 752 -544 Left 2 !.param trf 1n
TEXT 312 -352 Left 2 ;Putting 1nH ESL in capacitor makes the loop unstable.
TEXT 760 -448 Left 2 !.include opamp.sub
