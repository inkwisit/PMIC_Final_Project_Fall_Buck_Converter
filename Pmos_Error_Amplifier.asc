Version 4
SHEET 1 1692 888
WIRE -320 -352 -848 -352
WIRE 32 -352 32 -416
WIRE 32 -352 -320 -352
WIRE 256 -352 32 -352
WIRE -848 -240 -848 -352
WIRE -848 -240 -880 -240
WIRE -320 -240 -320 -352
WIRE -288 -240 -320 -240
WIRE 256 -240 256 -352
WIRE 288 -240 256 -240
WIRE -752 -224 -800 -224
WIRE -368 -224 -752 -224
WIRE 208 -224 -368 -224
WIRE -880 -192 -880 -240
WIRE -848 -192 -880 -192
WIRE -288 -192 -288 -240
WIRE -288 -192 -320 -192
WIRE 288 -192 288 -240
WIRE 288 -192 256 -192
WIRE -848 -96 -848 -144
WIRE -752 -96 -752 -224
WIRE -752 -96 -848 -96
WIRE -464 -80 -496 -80
WIRE -320 -80 -320 -144
WIRE -320 -80 -464 -80
WIRE -176 -80 -320 -80
WIRE -144 -80 -176 -80
WIRE -544 -64 -592 -64
WIRE -48 -64 -96 -64
WIRE -464 -32 -464 -80
WIRE -464 -32 -496 -32
WIRE -176 -32 -176 -80
WIRE -144 -32 -176 -32
WIRE -144 144 -144 16
WIRE -64 144 -144 144
WIRE 96 144 16 144
WIRE 256 144 256 -144
WIRE 256 144 160 144
WIRE 480 144 256 144
WIRE 256 208 256 144
WIRE 288 256 256 256
WIRE -144 288 -144 144
WIRE 208 288 -144 288
WIRE 288 304 288 256
WIRE 288 304 256 304
WIRE -496 384 -496 16
WIRE -368 384 -496 384
WIRE -848 432 -848 -96
WIRE -496 432 -496 384
WIRE -144 432 -144 288
WIRE -496 480 -528 480
WIRE -112 480 -144 480
WIRE -368 512 -368 384
WIRE -368 512 -448 512
WIRE -192 512 -368 512
WIRE -528 528 -528 480
WIRE -496 528 -528 528
WIRE -112 528 -112 480
WIRE -112 528 -144 528
WIRE -848 672 -848 512
WIRE -496 672 -496 528
WIRE -496 672 -848 672
WIRE -144 672 -144 528
WIRE -144 672 -496 672
WIRE 32 672 -144 672
WIRE 256 672 256 304
WIRE 256 672 32 672
WIRE 32 736 32 672
FLAG -592 -64 VINN
IOPIN -592 -64 In
FLAG -48 -64 VINP
IOPIN -48 -64 In
FLAG 32 -416 VDDA
IOPIN 32 -416 In
FLAG 32 736 GNDA
IOPIN 32 736 Out
FLAG 480 144 VOUT
IOPIN 480 144 Out
SYMBOL cmosp -800 -144 R180
SYMATTR InstName M1
SYMATTR Value2 l=180n w=5u
SYMBOL cmosp -368 -144 M180
SYMATTR InstName M2
SYMATTR Value2 l=180n w=5u
SYMBOL cmosp -96 16 R180
SYMATTR InstName M3
SYMATTR Value2 l=180n w=2u
SYMBOL cmosp -544 16 M180
SYMATTR InstName M4
SYMATTR Value2 l=180n w=2u
SYMBOL cmosn 208 208 R0
SYMATTR InstName M16
SYMATTR Value2 l=180n w=1u
SYMBOL cmosn -192 432 R0
SYMATTR InstName M13
SYMATTR Value2 l=360n w=1u
SYMBOL cmosn -448 432 M0
SYMATTR InstName M14
SYMATTR Value2 l=360n w=1u
SYMBOL res -864 416 R0
SYMATTR InstName R1
SYMATTR Value 400k
SYMBOL cmosp 208 -144 M180
SYMATTR InstName M5
SYMATTR Value2 l=180n w=5u
SYMBOL cap 160 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 12f
SYMBOL res 32 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 30k
TEXT -752 848 Left 2 ;Fsw = 8MHz, So UGB = 800KHz, So BW of Error Amplifer >> 800KHz. I have taken it Gain cross over frequency of error amplifier to be 8MHz
TEXT -736 -448 Left 2 !.include tsmc018.lib
TEXT -448 872 Left 2 ;Required Phase margin is 72 Degrees (Q=0.5, Optimal step response without overshoot)
TEXT -328 528 Left 2 ;P Input stage
