Version 4
SHEET 1 1804 680
WIRE 80 -128 -464 -128
WIRE 304 -128 304 -176
WIRE 304 -128 80 -128
WIRE 528 -128 304 -128
WIRE 1024 -128 528 -128
WIRE 1408 -128 1024 -128
WIRE 1568 -128 1408 -128
WIRE 1024 -96 1024 -128
WIRE 1024 -96 992 -96
WIRE 1408 -96 1408 -128
WIRE 1440 -96 1408 -96
WIRE 1568 -96 1568 -128
WIRE -464 -80 -464 -128
WIRE 1216 -80 1072 -80
WIRE 1360 -80 1216 -80
WIRE 992 -48 992 -96
WIRE 1024 -48 992 -48
WIRE 1440 -48 1440 -96
WIRE 1440 -48 1408 -48
WIRE 32 0 -32 0
WIRE 272 0 112 0
WIRE 544 0 432 0
WIRE 672 0 624 0
WIRE 1024 16 1024 0
WIRE 1216 16 1216 -80
WIRE 1216 16 1024 16
WIRE 1408 16 1408 0
WIRE 1680 16 1408 16
WIRE 1024 80 1024 16
WIRE 1408 80 1408 16
WIRE 528 112 528 -128
WIRE -144 128 -176 128
WIRE -32 128 -32 0
WIRE -32 128 -64 128
WIRE 80 128 80 -128
WIRE 336 128 320 128
WIRE 432 128 432 0
WIRE 432 128 416 128
WIRE 448 128 432 128
WIRE 1056 128 1024 128
WIRE 1408 128 1376 128
WIRE -32 160 -32 128
WIRE 16 160 -32 160
WIRE 672 160 672 0
WIRE 672 160 608 160
WIRE 976 160 672 160
WIRE 1568 160 1568 -16
WIRE 1568 160 1456 160
WIRE 1056 176 1056 128
WIRE 1056 176 1024 176
WIRE 1376 176 1376 128
WIRE 1408 176 1376 176
WIRE 272 192 272 0
WIRE 272 192 192 192
WIRE 448 192 272 192
WIRE -144 224 -176 224
WIRE -32 224 -64 224
WIRE 16 224 -32 224
WIRE 1024 224 1024 176
WIRE 1216 224 1024 224
WIRE 1408 224 1408 176
WIRE 1408 224 1216 224
WIRE -464 272 -464 0
WIRE -352 272 -464 272
WIRE 1568 272 1568 160
WIRE -32 288 -32 224
WIRE -464 304 -464 272
WIRE 1216 304 1216 224
WIRE -464 352 -480 352
WIRE 1232 352 1216 352
WIRE -352 384 -352 272
WIRE -352 384 -416 384
WIRE -320 384 -352 384
WIRE 1104 384 1072 384
WIRE 1168 384 1104 384
WIRE -480 400 -480 352
WIRE -464 400 -480 400
WIRE 1232 400 1232 352
WIRE 1232 400 1216 400
WIRE -464 432 -464 400
WIRE -32 432 -32 368
WIRE -32 432 -464 432
WIRE 80 432 80 256
WIRE 80 432 -32 432
WIRE 304 432 80 432
WIRE 528 432 528 208
WIRE 528 432 304 432
WIRE 1216 432 1216 400
WIRE 1216 432 528 432
WIRE 1568 432 1568 352
WIRE 1568 432 1216 432
WIRE 304 480 304 432
FLAG 320 128 0
FLAG -176 224 VINP
IOPIN -176 224 In
FLAG -176 128 VINN
IOPIN -176 128 In
FLAG 1680 16 VOUT
IOPIN 1680 16 Out
FLAG 304 -176 VDDA
IOPIN 304 -176 In
FLAG 304 480 GNDA
IOPIN 304 480 Out
FLAG 1104 384 vbn0
FLAG -320 384 vbn0
SYMBOL Error_Amplifier 96 208 R0
SYMATTR InstName X1
SYMBOL res -48 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 200k
SYMBOL res 128 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res -48 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 200k
SYMBOL res -48 272 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL res 432 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 640 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL Pmos_Error_Amplifier 528 176 R0
SYMATTR InstName X2
SYMBOL cmosp 1360 0 M180
SYMATTR InstName M1
SYMATTR Value2 l=180n w=5u
SYMBOL cmosp 1072 0 R180
SYMATTR InstName M2
SYMATTR Value2 l=180n w=5u
SYMBOL cmosn 1456 80 M0
SYMATTR InstName M3
SYMATTR Value2 l=180n w=1u
SYMBOL cmosn 976 80 R0
SYMATTR InstName M4
SYMATTR Value2 l=180n w=1u
SYMBOL cmosn 1168 304 R0
SYMATTR InstName M5
SYMATTR Value2 l=720n w=1u
SYMBOL res -480 -96 R0
SYMATTR InstName R7
SYMATTR Value 1Meg
SYMBOL cmosn -416 304 M0
SYMATTR InstName M6
SYMATTR Value2 l=720n w=1u
SYMBOL res 1552 -112 R0
SYMATTR InstName R8
SYMATTR Value 600k
SYMBOL res 1552 256 R0
SYMATTR InstName R9
SYMATTR Value 1.2Meg
TEXT 128 272 Left 2 ;NMOS INPUT STAGE
TEXT 576 272 Left 2 ;PMOS INPUT STAGE
TEXT 176 352 Left 2 ;Gain is around 43.2 V/V
TEXT 1040 200 Left 2 ;Single Stage High Gain amplifier
TEXT 416 -176 Left 2 !.include tsmc018.lib
TEXT 704 496 Left 2 ;Problem with single stage comparator (NMOS input stage) is that it gives high better,
