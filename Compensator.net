* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\Compensator.asc
E4 N002 0 N004 0 1.8
L3 N002 compensated 0.47µ Rser=32m
C2 compensated 0 9.4µ
E5 N004 0 N009 0 1
XX1 vdd N011 N015 0 N009 error_amplifier
V1 vdd 0 1.8
R3 N007 N011 100k
R4 N011 0 100k
V2 N015 0 0.8
C3 N008 N007 1Meg
L4 compensated N007 1Meg
V3 N008 0 AC 1
C1 N007 N011 21.2p
C4 N011 N010 29.80p
R1 N010 N009 500k
E1 N001 0 N003 0 1.8
L1 N001 uncompensated 0.47µ Rser=32m
C5 uncompensated 0 9.4µ
E2 N003 0 N013 0 1
XX2 vdd N012 N014 0 N013 error_amplifier
R2 N005 N012 100k
R5 N012 0 100k
V5 N014 0 0.8
C6 N006 N005 1Meg
L2 uncompensated N005 1Meg
V6 N006 0 AC 1

* block symbol definitions
.subckt error_amplifier VDDA VINN VINP GNDA VOUT
Q1 N005 N008 GNDA 0 2N3904
R1 N008 GNDA 100k
Q2 N001 N005 N008 0 2N3904
M1 N001 N001 VDDA VDDA CMOSP l=180n w=5u
R2 VDDA N005 100k
M11 N006 N001 VDDA VDDA CMOSP l=180n w=5u
M12 N006 N006 GNDA GNDA CMOSN l=180n w=1u
M2 N007 N006 GNDA GNDA CMOSN l=180n w=3u
M3 N002 N002 VDDA VDDA CMOSP l=180n w=2u
M4 N003 N002 VDDA VDDA CMOSP l=180n w=2u
M5 N002 VINN N007 GNDA CMOSN l=180n w=1u
M6 N003 VINP N007 GNDA CMOSN l=180n w=1u
M7 VOUT N003 VDDA VDDA CMOSP l=180n w=10u
M8 VOUT N006 GNDA GNDA CMOSN l=180n w=3u
C1 VOUT N004 8f
R3 N004 N003 18.5k
.include tsmc018.lib
.ends error_amplifier

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.ac dec 50 100 1G
.op
* Miller effect is making the resistor size big and capacitor size small
.backanno
.end
