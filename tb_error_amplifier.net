* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\tb_error_amplifier.asc
XX1 N001 N002 N003 0 vout error_amplifier
V1 N001 0 1.8
V2 N002 0 0.8
V3 N003 0 0.8 AC 1

* block symbol definitions
.subckt error_amplifier VDDA VINN VINP GNDA VOUT
Q1 N005 N006 GNDA 0 2N3904
R1 N006 GNDA 1Meg
Q2 N001 N005 N006 0 2N3904
M3 N001 N001 VDDA VDDA CMOSP l=360n w=2.5u
R2 VDDA N005 1Meg
M4 N002 N001 VDDA VDDA CMOSP l=720n w=20u
M5 N003 VINP N002 N002 CMOSP l=180n w=1.35u
M6 N004 VINN N002 N002 CMOSP l=180n w=1.35u
M7 N003 N004 GNDA GNDA CMOSN l=180n w=270n
M8 N004 N004 GNDA GNDA CMOSN l=180n w=270n
M9 VOUT N001 VDDA VDDA CMOSP l=720n w=40u
M1 VOUT N003 GNDA GNDA CMOSN l=180n w=2u
.include tsmc018.lib
.ends error_amplifier

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.ac dec 20 100 1G
.op
.backanno
.end
