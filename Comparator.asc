Version 4
SHEET 1 3404 768
WIRE -896 -320 -1072 -320
WIRE -624 -320 -896 -320
WIRE -240 -320 -240 -400
WIRE -240 -320 -624 -320
WIRE 368 -320 -240 -320
WIRE 944 -320 368 -320
WIRE 1328 -320 944 -320
WIRE 1888 -320 1328 -320
WIRE 2352 -320 1888 -320
WIRE 320 -224 -976 -224
WIRE 1840 -224 320 -224
WIRE -1072 -208 -1072 -320
WIRE -1072 -208 -1104 -208
WIRE -896 -208 -896 -320
WIRE -864 -208 -896 -208
WIRE -624 -208 -624 -320
WIRE -624 -208 -656 -208
WIRE -240 -208 -240 -320
WIRE -208 -208 -240 -208
WIRE 368 -208 368 -320
WIRE 400 -208 368 -208
WIRE 944 -208 944 -320
WIRE 944 -208 912 -208
WIRE 1328 -208 1328 -320
WIRE 1360 -208 1328 -208
WIRE 1888 -208 1888 -320
WIRE 1920 -208 1888 -208
WIRE 2352 -208 2352 -320
WIRE 2384 -208 2352 -208
WIRE -976 -192 -976 -224
WIRE -976 -192 -1024 -192
WIRE -944 -192 -976 -192
WIRE -432 -192 -576 -192
WIRE -288 -192 -432 -192
WIRE 320 -192 320 -224
WIRE 1136 -192 992 -192
WIRE 1280 -192 1136 -192
WIRE 1840 -192 1840 -224
WIRE 2256 -192 2240 -192
WIRE 2304 -192 2256 -192
WIRE -1104 -160 -1104 -208
WIRE -1072 -160 -1104 -160
WIRE -864 -160 -864 -208
WIRE -864 -160 -896 -160
WIRE -656 -160 -656 -208
WIRE -624 -160 -656 -160
WIRE -208 -160 -208 -208
WIRE -208 -160 -240 -160
WIRE 400 -160 400 -208
WIRE 400 -160 368 -160
WIRE 912 -160 912 -208
WIRE 944 -160 912 -160
WIRE 1360 -160 1360 -208
WIRE 1360 -160 1328 -160
WIRE 1920 -160 1920 -208
WIRE 1920 -160 1888 -160
WIRE 2384 -160 2384 -208
WIRE 2384 -160 2352 -160
WIRE 944 -96 944 -112
WIRE 1136 -96 1136 -192
WIRE 1136 -96 944 -96
WIRE 224 -80 192 -80
WIRE 368 -80 368 -112
WIRE 368 -80 224 -80
WIRE 512 -80 368 -80
WIRE 544 -80 512 -80
WIRE 1744 -80 1712 -80
WIRE 1888 -80 1888 -112
WIRE 1888 -80 1744 -80
WIRE 2032 -80 1888 -80
WIRE 2064 -80 2032 -80
WIRE 32 -64 -32 -64
WIRE 144 -64 32 -64
WIRE 672 -64 592 -64
WIRE 720 -64 672 -64
WIRE 1616 -64 1568 -64
WIRE 1664 -64 1616 -64
WIRE 2176 -64 2112 -64
WIRE 2208 -64 2176 -64
WIRE -1072 -48 -1072 -112
WIRE -976 -48 -976 -192
WIRE -976 -48 -1072 -48
WIRE -688 -48 -720 -48
WIRE -624 -48 -624 -112
WIRE -624 -48 -688 -48
WIRE -560 -48 -624 -48
WIRE -432 -48 -432 -192
WIRE -432 -48 -480 -48
WIRE -400 -48 -432 -48
WIRE -240 -48 -240 -112
WIRE -240 -48 -320 -48
WIRE -176 -48 -240 -48
WIRE -144 -48 -176 -48
WIRE 1328 -48 1328 -112
WIRE 1392 -48 1328 -48
WIRE 1424 -48 1392 -48
WIRE 224 -32 224 -80
WIRE 224 -32 192 -32
WIRE 512 -32 512 -80
WIRE 544 -32 512 -32
WIRE 1744 -32 1744 -80
WIRE 1744 -32 1712 -32
WIRE 2032 -32 2032 -80
WIRE 2064 -32 2032 -32
WIRE 2352 128 2352 -112
WIRE 2448 128 2352 128
WIRE -624 144 -624 -48
WIRE -240 144 -240 -48
WIRE 944 144 944 -96
WIRE 1328 144 1328 -48
WIRE 2064 144 2064 16
WIRE 2128 144 2064 144
WIRE 2176 144 2128 144
WIRE 128 160 96 160
WIRE 192 160 192 16
WIRE 192 160 128 160
WIRE 240 160 192 160
WIRE 368 160 320 160
WIRE 400 160 368 160
WIRE 544 160 544 16
WIRE 544 160 480 160
WIRE 624 160 544 160
WIRE 656 160 624 160
WIRE -592 192 -624 192
WIRE -240 192 -272 192
WIRE 976 192 944 192
WIRE 1328 192 1296 192
WIRE 1712 192 1712 16
WIRE 1888 192 1712 192
WIRE -752 224 -800 224
WIRE -672 224 -752 224
WIRE -96 224 -192 224
WIRE -16 224 -96 224
WIRE 192 224 192 160
WIRE 544 224 544 160
WIRE 832 224 800 224
WIRE 896 224 832 224
WIRE 1424 224 1376 224
WIRE 1472 224 1424 224
WIRE 1712 224 1712 192
WIRE 2064 224 2064 144
WIRE -592 240 -592 192
WIRE -592 240 -624 240
WIRE -272 240 -272 192
WIRE -240 240 -272 240
WIRE 976 240 976 192
WIRE 976 240 944 240
WIRE 1296 240 1296 192
WIRE 1328 240 1296 240
WIRE 192 272 160 272
WIRE 576 272 544 272
WIRE 1712 272 1680 272
WIRE 2096 272 2064 272
WIRE 368 304 368 160
WIRE 368 304 240 304
WIRE 496 304 368 304
WIRE 1888 304 1888 192
WIRE 1888 304 1760 304
WIRE 2016 304 1888 304
WIRE -624 320 -624 240
WIRE -432 320 -624 320
WIRE -240 320 -240 240
WIRE -240 320 -432 320
WIRE 160 320 160 272
WIRE 192 320 160 320
WIRE 576 320 576 272
WIRE 576 320 544 320
WIRE 944 320 944 240
WIRE 1136 320 944 320
WIRE 1328 320 1328 240
WIRE 1328 320 1136 320
WIRE 1680 320 1680 272
WIRE 1712 320 1680 320
WIRE 2096 320 2096 272
WIRE 2096 320 2064 320
WIRE -1072 336 -1072 -48
WIRE 2352 336 2352 128
WIRE -896 352 -896 -112
WIRE -784 352 -896 352
WIRE -896 368 -896 352
WIRE -432 368 -432 320
WIRE 1136 368 1136 320
WIRE 2368 384 2352 384
WIRE -896 416 -912 416
WIRE -416 416 -432 416
WIRE 1152 416 1136 416
WIRE 2256 416 2240 416
WIRE 2304 416 2256 416
WIRE 2368 432 2368 384
WIRE 2368 432 2352 432
WIRE -784 448 -784 352
WIRE -784 448 -848 448
WIRE -480 448 -784 448
WIRE 1088 448 -480 448
WIRE -912 464 -912 416
WIRE -896 464 -912 464
WIRE -416 464 -416 416
WIRE -416 464 -432 464
WIRE 1152 464 1152 416
WIRE 1152 464 1136 464
WIRE -1072 560 -1072 416
WIRE -896 560 -896 464
WIRE -896 560 -1072 560
WIRE -432 560 -432 464
WIRE -432 560 -896 560
WIRE -240 560 -432 560
WIRE 192 560 192 320
WIRE 192 560 -240 560
WIRE 544 560 544 320
WIRE 544 560 192 560
WIRE 1136 560 1136 464
WIRE 1136 560 544 560
WIRE 1712 560 1712 320
WIRE 1712 560 1136 560
WIRE 2064 560 2064 320
WIRE 2064 560 1712 560
WIRE 2352 560 2352 432
WIRE 2352 560 2064 560
WIRE -240 640 -240 560
FLAG -240 -400 VDDA
IOPIN -240 -400 In
FLAG -240 640 GNDA
IOPIN -240 640 Out
FLAG -800 224 VINN
IOPIN -800 224 In
FLAG -16 224 VINP
IOPIN -16 224 In
FLAG 2448 128 VOUT
IOPIN 2448 128 Out
FLAG -176 -48 outp1
FLAG -688 -48 outn1
FLAG 1424 224 outn1
FLAG 832 224 outp1
FLAG 1392 -48 pmos_gate
FLAG 2256 -192 pmos_gate
FLAG 2256 416 nmos_gate
FLAG 32 -64 vinp
FLAG -96 224 vinp
FLAG 672 -64 vinn
FLAG -752 224 vinn
FLAG 2128 144 nmos_gate
FLAG 128 160 outp2
FLAG 1616 -64 outp2
FLAG 624 160 outn2
FLAG 2176 -64 outn2
SYMBOL cmosp -288 -112 M180
SYMATTR InstName M1
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosp -576 -112 R180
SYMATTR InstName M2
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosn -192 144 M0
SYMATTR InstName M3
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn -672 144 R0
SYMATTR InstName M4
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn -480 368 R0
SYMATTR InstName M5
SYMATTR Value2 l=720n w=2u
SYMBOL res -464 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res -304 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cmosp 1280 -112 M180
SYMATTR InstName M6
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosp 992 -112 R180
SYMATTR InstName M7
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosn 1376 144 M0
SYMATTR InstName M8
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn 896 144 R0
SYMATTR InstName M9
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn 1088 368 R0
SYMATTR InstName M10
SYMATTR Value2 l=720n w=2u
SYMBOL cmosp 2304 -112 M180
SYMATTR InstName M11
SYMATTR Value2 l=180n w=700n
SYMBOL cmosn 2304 336 R0
SYMATTR InstName M12
SYMATTR Value2 l=180n w=270n
SYMBOL cmosp -944 -112 M180
SYMATTR InstName M19
SYMATTR Value2 l=720n w=10u
SYMBOL cmosp -1024 -112 R180
SYMATTR InstName M20
SYMATTR Value2 l=360n w=2.5u
SYMBOL cmosp 320 -112 M180
SYMATTR InstName M21
SYMATTR Value2 l=720n w=10u
SYMBOL cmosp 592 16 R180
SYMATTR InstName M22
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosp 144 16 M180
SYMATTR InstName M23
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosn 496 224 R0
SYMATTR InstName M24
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn 240 224 M0
SYMATTR InstName M25
SYMATTR Value2 l=180n w=270n
SYMBOL res 336 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 496 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL cmosp 1840 -112 M180
SYMATTR InstName M13
SYMATTR Value2 l=720n w=10u
SYMBOL cmosp 2112 16 R180
SYMATTR InstName M14
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosp 1664 16 M180
SYMATTR InstName M15
SYMATTR Value2 l=180n w=1.35u
SYMBOL cmosn 2016 224 R0
SYMATTR InstName M16
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn 1760 224 M0
SYMATTR InstName M17
SYMATTR Value2 l=180n w=270n
SYMBOL cmosn -848 368 M0
SYMATTR InstName M18
SYMATTR Value2 l=720n w=2u
SYMBOL res -1088 320 R0
SYMATTR InstName R3
SYMATTR Value 1Meg
TEXT -592 288 Left 2 ;Single Stage Low Gain amplifier
TEXT 976 288 Left 2 ;Single Stage High Gain amplifier
TEXT 304 -392 Left 2 ;It is versatile comparator, works for any Vref from 10% to 90% of supply
TEXT 288 -440 Left 2 !.include tsmc018.lib
