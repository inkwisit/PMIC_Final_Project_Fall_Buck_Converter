Version 4
SHEET 1 2700 752
WIRE -1152 -1360 -1264 -1360
WIRE -928 -1360 -1152 -1360
WIRE -384 -1360 -928 -1360
WIRE -96 -1360 -384 -1360
WIRE -64 -1360 -64 -1424
WIRE -64 -1360 -96 -1360
WIRE 336 -1360 -64 -1360
WIRE 768 -1360 336 -1360
WIRE -1264 -1248 -1264 -1360
WIRE -1152 -1248 -1152 -1360
WIRE -1152 -1248 -1184 -1248
WIRE -928 -1248 -928 -1360
WIRE -896 -1248 -928 -1248
WIRE 768 -1248 768 -1360
WIRE 800 -1248 768 -1248
WIRE -1056 -1232 -1104 -1232
WIRE -976 -1232 -1056 -1232
WIRE 720 -1232 -976 -1232
WIRE -1184 -1200 -1184 -1248
WIRE -1152 -1200 -1184 -1200
WIRE -896 -1200 -896 -1248
WIRE -896 -1200 -928 -1200
WIRE 800 -1200 800 -1248
WIRE 800 -1200 768 -1200
WIRE -384 -1152 -384 -1360
WIRE -384 -1152 -416 -1152
WIRE -96 -1152 -96 -1360
WIRE -64 -1152 -96 -1152
WIRE -240 -1136 -336 -1136
WIRE -144 -1136 -240 -1136
WIRE -1152 -1104 -1152 -1152
WIRE -1056 -1104 -1056 -1232
WIRE -1056 -1104 -1152 -1104
WIRE -416 -1104 -416 -1152
WIRE -384 -1104 -416 -1104
WIRE -64 -1104 -64 -1152
WIRE -64 -1104 -96 -1104
WIRE -384 -1040 -384 -1056
WIRE -240 -1040 -240 -1136
WIRE -240 -1040 -384 -1040
WIRE 336 -1008 336 -1360
WIRE 368 -1008 336 -1008
WIRE -96 -992 -96 -1056
WIRE 288 -992 -96 -992
WIRE 368 -960 368 -1008
WIRE 368 -960 336 -960
WIRE 768 -928 768 -1152
WIRE 976 -928 768 -928
WIRE 768 -800 768 -928
WIRE 800 -800 768 -800
WIRE 336 -784 336 -912
WIRE 720 -784 336 -784
WIRE -384 -768 -384 -1040
WIRE -96 -768 -96 -992
WIRE 800 -752 800 -800
WIRE 800 -752 768 -752
WIRE -352 -720 -384 -720
WIRE -96 -720 -128 -720
WIRE -432 -688 -512 -688
WIRE 32 -688 -48 -688
WIRE -1152 -656 -1152 -1104
WIRE -1264 -608 -1264 -1168
WIRE -1216 -608 -1264 -608
WIRE -928 -576 -928 -1152
WIRE -784 -576 -928 -576
WIRE -384 -576 -384 -672
WIRE -240 -576 -384 -576
WIRE -96 -576 -96 -672
WIRE -96 -576 -240 -576
WIRE -1264 -560 -1264 -608
WIRE -1152 -512 -1152 -560
WIRE -1152 -512 -1200 -512
WIRE -928 -512 -928 -576
WIRE -240 -512 -240 -576
WIRE 336 -512 336 -784
WIRE -1152 -480 -1152 -512
WIRE -928 -464 -960 -464
WIRE -208 -464 -240 -464
WIRE 368 -464 336 -464
WIRE -784 -432 -784 -576
WIRE -784 -432 -880 -432
WIRE -288 -432 -784 -432
WIRE 288 -432 -288 -432
WIRE -960 -416 -960 -464
WIRE -928 -416 -960 -416
WIRE -208 -416 -208 -464
WIRE -208 -416 -240 -416
WIRE 368 -416 368 -464
WIRE 368 -416 336 -416
WIRE -1264 -336 -1264 -464
WIRE -1152 -336 -1152 -400
WIRE -1152 -336 -1264 -336
WIRE -928 -336 -928 -416
WIRE -928 -336 -1152 -336
WIRE -352 -336 -352 -720
WIRE -352 -336 -928 -336
WIRE -240 -336 -240 -416
WIRE -240 -336 -352 -336
WIRE -128 -336 -128 -720
WIRE -128 -336 -240 -336
WIRE -64 -336 -128 -336
WIRE 336 -336 336 -416
WIRE 336 -336 -64 -336
WIRE 768 -336 768 -704
WIRE 768 -336 336 -336
WIRE -64 -272 -64 -336
FLAG -64 -1424 VDDA
IOPIN -64 -1424 In
FLAG -64 -272 GNDA
IOPIN -64 -272 Out
FLAG 976 -928 VOUT
IOPIN 976 -928 Out
FLAG -512 -688 VINN
IOPIN -512 -688 In
FLAG 32 -688 VINP
IOPIN 32 -688 In
SYMBOL npn -1200 -560 M0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res -1136 -496 M0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL npn -1216 -656 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL cmosp -1104 -1152 R180
SYMATTR InstName M1
SYMATTR Value2 l=180n w=5u
SYMBOL res -1248 -1264 M0
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL cmosp -976 -1152 M180
SYMATTR InstName M11
SYMATTR Value2 l=180n w=5u
SYMBOL cmosn -880 -512 M0
SYMATTR InstName M12
SYMATTR Value2 l=180n w=1u
SYMBOL cmosn -288 -512 R0
SYMATTR InstName M2
SYMATTR Value2 l=180n w=2u
SYMBOL cmosp -336 -1056 R180
SYMATTR InstName M3
SYMATTR Value2 l=360n w=2u
SYMBOL cmosp -144 -1056 M180
SYMATTR InstName M4
SYMATTR Value2 l=360n w=2u
SYMBOL cmosn -432 -768 R0
SYMATTR InstName M5
SYMATTR Value2 l=180n w=1u
SYMBOL cmosn -48 -768 M0
SYMATTR InstName M6
SYMATTR Value2 l=180n w=1u
SYMBOL cmosp 288 -912 M180
SYMATTR InstName M7
SYMATTR Value2 l=180n w=10u
SYMBOL cmosn 288 -512 R0
SYMATTR InstName M8
SYMATTR Value2 l=180n w=2u
SYMBOL cmosp 720 -704 M180
SYMATTR InstName M9
SYMATTR Value2 l=180n w=10u
SYMBOL cmosp 720 -1152 M180
SYMATTR InstName M10
SYMATTR Value2 l=180n w=5u
TEXT -848 -160 Left 2 ;Fsw = 8MHz, So UGB = 800KHz, So BW of Error Amplifer >> 800KHz. I have taken it Gain cross over frequency of error amplifier to be 8MHz
TEXT -832 -1456 Left 2 !.include tsmc018.lib
TEXT -544 -136 Left 2 ;Required Phase margin is 72 Degrees (Q=0.5, Optimal step response without overshoot)
