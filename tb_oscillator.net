* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\tb_oscillator.asc
XX1 0 N001 N002 vout oscillator
V1 N001 0 PULSE(0 1.8 0 1n)
V2 N002 0 PULSE(0 0.8 1n 1u)

* block symbol definitions
.subckt oscillator GNDA VDDA vref VOUT
M1 N004 N003 vdda vdda CMOSP l=360n w=2.5u
M2 N003 N003 vdda vdda CMOSP l=360n w=2.5u
M3 N004 vref N008 N008 CMOSN l=360n w=500n
M4 N003 N009 N008 N008 CMOSN l=360n w=500n
M5 N008 vbn0 GNDA GNDA CMOSN l=720n w=2u
M7 vbn0 vbp0 vdda vdda CMOSP l=360n w=2.5u
Q1 N013 N015 GNDA 0 2N3904
R1 N015 GNDA 1Meg
Q2 vbp0 N013 N015 0 2N3904
M8 vbp0 vbp0 vdda vdda CMOSP l=360n w=2.5u
R2 vdda N013 1Meg
M9 1v3 N004 vdda vdda CMOSP l=180n w=1u
M10 VOUT N005 vdda vdda CMOSP l=180n w=1.1u
C1 VOUT GNDA 0.115p
R3 1v3 N009 500k
M11 VOUT N014 GNDA GNDA CMOSN l=180n w=2.2u
M12 Q_b S GNDA GNDA CMOSN l=180n w=270n
M13 Q_b Q GNDA GNDA CMOSN l=180n w=270n
M14 N006 S vdda vdda CMOSP l=180n w=1u
M15 Q_b Q N006 N006 CMOSP l=180n w=1u
M16 Q R GNDA GNDA CMOSN l=180n w=270n
M17 Q Q_b GNDA GNDA CMOSN l=180n w=270n
M18 N007 R vdda vdda CMOSP l=180n w=270n
M19 Q Q_b N007 N007 CMOSP l=180n w=270n
M20 S N001 vdda vdda CMOSP l=180n w=5u
M21 N001 N001 vdda vdda CMOSP l=180n w=5u
M22 S 1v3 N011 N011 CMOSN l=180n w=1u
M23 N001 VOUT N011 N011 CMOSN l=180n w=1u
M24 N011 vbn0 GNDA GNDA CMOSN l=720n w=2u
M25 R N002 vdda vdda CMOSP l=180n w=1u
M26 N002 N002 vdda vdda CMOSP l=180n w=1u
M27 R VOUT N012 N012 CMOSN l=180n w=270n
M28 N002 0v5 N012 N012 CMOSN l=180n w=270n
M29 N012 vbn0 GNDA GNDA CMOSN l=720n w=2u
M30 N010 N005 vdda vdda CMOSP l=180n w=11u
R5 N010 N014 100k
M31 N010 N010 GNDA GNDA CMOSN l=180n w=1u
M32 N014 Q_b GNDA GNDA CMOSN l=180n w=270n
R6 N005 N004 100k
M33 vbn0 vbn0 GNDA GNDA CMOSN l=720n w=2u
R4 0v5 GNDA 500k
R7 N009 0v5 300k
.include tsmc018.lib
.ends oscillator

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 0 20u 0 1n
.backanno
.end
