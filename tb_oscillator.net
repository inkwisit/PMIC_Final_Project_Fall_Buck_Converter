* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\tb_oscillator.asc
XX1 0 N001 N002 vout oscillator
V1 N001 0 PULSE(0 1.8 0 1n)
V2 N002 0 PULSE(0 0.5 1n 1u)

* block symbol definitions
.subckt oscillator GNDA VDDA vref VOUT
M1 N003 N002 vdda vdda CMOSP l=360n w=2.5u
M2 N002 N002 vdda vdda CMOSP l=360n w=2.5u
M3 N003 vref N004 N004 CMOSN l=360n w=500n
M4 N002 0v5 N004 N004 CMOSN l=360n w=500n
M5 N004 vbn0 GNDA GNDA CMOSN l=720n w=2u
M6 vbn0 vbn0 GNDA GNDA CMOSP l=720n w=2u
M7 vbn0 N001 vdda vdda CMOSP l=360n w=2.5u
Q1 N005 N007 GNDA 0 2N3904
R1 N007 GNDA 1Meg
Q2 N001 N005 N007 0 2N3904
M8 N001 N001 vdda vdda CMOSP l=360n w=2.5u
R2 vdda N005 1Meg
M9 1v5 N003 vdda vdda CMOSP l=180n w=1u
M10 VOUT N003 vdda vdda CMOSP l=180n w=1u
C1 VOUT GNDA 0.1p
R3 1v5 0v5 1Meg
R4 0v5 GNDA 500k
S1 GNDA VOUT N006 GNDA Discharge
V1 N006 GNDA PULSE(0 1.8 0 1p 1p 2n 125n)
.include tsmc018.lib
.model Discharge sw(Ron=1m, Roff=10MEG, Vt=0.5)
.ends oscillator

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 0 10u 0 1n
.backanno
.end
