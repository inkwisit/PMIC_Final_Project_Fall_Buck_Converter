* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\tb_oscillator.asc
XX1 0 N001 N002 vout oscillator
V1 N001 0 PULSE(0 1.8 0 1n)
V2 N002 0 PULSE(0 0.5 1n 1u)

* block symbol definitions
.subckt oscillator GNDA VDDA vref VOUT
M1 N003 N002 vdda vdda CMOSP l=360n w=2.5u
M2 N002 N002 vdda vdda CMOSP l=360n w=2.5u
M3 N003 vref N007 N007 CMOSN l=360n w=500n
M4 N002 0v5 N007 N007 CMOSN l=360n w=500n
M5 N007 vbn0 GNDA GNDA CMOSN l=720n w=2u
M6 vbn0 vbn0 GNDA GNDA CMOSP l=720n w=2u
M7 vbn0 vbp0 vdda vdda CMOSP l=360n w=2.5u
Q1 N010 N011 GNDA 0 2N3904
R1 N011 GNDA 1Meg
Q2 vbp0 N010 N011 0 2N3904
M8 vbp0 vbp0 vdda vdda CMOSP l=360n w=2.5u
R2 vdda N010 1Meg
M9 1v4 N003 vdda vdda CMOSP l=180n w=1u
M10 VOUT N003 vdda vdda CMOSP l=180n w=2u
C1 VOUT GNDA 0.25p
R3 1v4 0v5 900k
R4 0v5 GNDA 500k
M11 VOUT Q GNDA GNDA CMOSN l=180n w=1u
M12 Q_b S GNDA GNDA CMOSN l=180n w=270n
M13 Q_b Q GNDA GNDA CMOSN l=180n w=270n
M14 N005 S vdda vdda CMOSP l=180n w=540n
M15 Q_b Q N005 N005 CMOSP l=180n w=540n
M16 Q R GNDA GNDA CMOSN l=180n w=270n
M17 Q Q_b GNDA GNDA CMOSN l=180n w=270n
M18 N006 R vdda vdda CMOSP l=180n w=540n
M19 Q Q_b N006 N006 CMOSP l=180n w=540n
C2 vdda N003 1p
M25 R N001 vdda vdda CMOSP l=180n w=1.35u
M26 N001 N001 vdda vdda CMOSP l=180n w=1.35u
M27 R VOUT N009 N009 CMOSN l=180n w=270n
M28 N001 0v5 N009 N009 CMOSN l=180n w=270n
M29 N009 vbn0 GNDA GNDA CMOSN l=720n w=2u
M30 N004 vbp0 vdda vdda CMOSP l=360n w=2.5u
M31 S 1v4 N004 N004 CMOSP l=180n w=270n
M32 N008 VOUT N004 N004 CMOSP l=180n w=270n
M33 S N008 GNDA GNDA CMOSN l=180n w=1u
M34 N008 N008 GNDA GNDA CMOSN l=180n w=1u
.include tsmc018.lib
.ends oscillator

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 0 20u 0 0.1n
.backanno
.end
