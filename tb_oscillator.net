* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\tb_oscillator.asc
XX1 0 N001 N002 vout oscillator
V1 N001 0 PULSE(0 1.8 0 1n)
V2 N002 0 PULSE(0 0.5 1n 1u)

* block symbol definitions
.subckt oscillator GNDA VDDA vref VOUT
M1 N003 N002 VDDA VDDA CMOSP l=360n w=2.5u
M2 N002 N002 VDDA VDDA CMOSP l=360n w=2.5u
M3 N003 vref N004 N004 CMOSN l=360n w=500n
M4 N002 0v5 N004 N004 CMOSN l=360n w=500n
M5 N004 N007 GNDA GNDA CMOSN l=720n w=2u
M6 N007 N007 GNDA GNDA CMOSP l=720n w=2u
M7 N007 N001 VDDA VDDA CMOSP l=360n w=2.5u
Q1 N005 N008 GNDA 0 2N3904
R1 N008 GNDA 1Meg
Q2 N001 N005 N008 0 2N3904
M8 N001 N001 VDDA VDDA CMOSP l=360n w=2.5u
R2 VDDA N005 1Meg
M9 1v5 N003 VDDA VDDA CMOSP l=180n w=3u
M10 VOUT N003 VDDA VDDA CMOSP l=180n w=24u
C1 VOUT GNDA 1p
M11 VOUT N006 GNDA GNDA CMOSP l=720n w=2u
R5 N006 GNDA 1Meg
R3 1v5 0v5 1Meg
R4 0v5 GNDA 500k
.include tsmc018.lib
.ends oscillator

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 10u
.backanno
.end
