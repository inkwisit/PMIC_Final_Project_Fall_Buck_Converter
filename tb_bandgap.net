* C:\Users\subha\OneDrive\Documents\GitHub\PMIC_Final_Project_Fall_Buck_Converter\tb_bandgap.asc
XX1 N001 0 vref bandgap_reference
V1 N001 0 PULSE(0 1.8 0 1n)

* block symbol definitions
.subckt bandgap_reference VDDA GNDA Vref
M1 N006 N001 VDDA VDDA CMOSP l=360n w=2.5u
M2 N004 N001 VDDA VDDA CMOSP l=360n w=2.5u
M3 Vref N002 VDDA VDDA CMOSP l=360n w=2.5u
R1 Vref GNDA 38.196k
R2 N006 N007 10k
R3 N006 GNDA 93.865k
Q1 GNDA GNDA N004 0 PNP_V50X50_MM
R4 N004 GNDA 93.865k
M4 N001 N003 VDDA VDDA CMOSP l=360n w=2.5u
M5 N003 N003 VDDA VDDA CMOSP l=360n w=2.5u
Q2 GNDA GNDA N007 0 PNP_V50X50_MM
Q3 GNDA GNDA N007 0 PNP_V50X50_MM
Q4 GNDA GNDA N007 0 PNP_V50X50_MM
Q5 GNDA GNDA N007 0 PNP_V50X50_MM
Q6 GNDA GNDA N007 0 PNP_V50X50_MM
Q7 GNDA GNDA N007 0 PNP_V50X50_MM
Q8 GNDA GNDA N007 0 PNP_V50X50_MM
Q9 GNDA GNDA N007 0 PNP_V50X50_MM
M6 N001 N004 N005 N005 CMOSN l=360n w=500n
M7 N003 N006 N005 N005 CMOSN l=360n w=500n
M8 N005 vbn0 GNDA GNDA CMOSN l=720n w=2u
M9 vbn0 vbn0 GNDA GNDA CMOSP l=720n w=2u
C1 VDDA N004 1p
R7 N002 N001 100k
R5 VDDA vbn0 1Meg
.include tsmc018.lib
.include mm180_bjt_v121.mdl
.ends bandgap_reference

.model NPN NPN
.model PNP PNP
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\subha\OneDrive\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 5m
.step temp -40 125 1
.meas TRAN vref FIND V(vref) AT 1m
.backanno
.end
